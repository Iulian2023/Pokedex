<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title><%= pokemon.identifier %> - Pokedex</title>
</head>
<body>
    <div class="container-fluid bg-dark text-white py-3">
        <h1 class="text-center"><%= pokemon.identifier %></h1>
    </div>
    <div class="container py-4">
        <img src="https://img.pokemondb.net/sprites/home/normal/<%= pokemon.identifier %>.png" class="d-block mx-auto" alt="<%= pokemon.identifier %>" style="width: 350px; height: auto;">  
        <h2>Details</h2>
        <ul class="list-group mt-4">
            <li class="list-group-item"><strong>ID:</strong> <%= pokemon.id %></li>
            <li class="list-group-item"><strong>Species:</strong> 
                <% pokemon.types.forEach(function(type, index) { %>
                    <%= type %><%= index < pokemon.types.length - 1 ? ', ' : '' %>
                <% }); %>
            </li>
            <li class="list-group-item"><strong>Weight:</strong> <%= pokemon.weight /100 %> kg</li>
            <li class="list-group-item"><strong>Egg Groups:</strong>
                <% pokemon.eggGroups.forEach(function(group, index) { %>
                    <%= group %><%= index < pokemon.eggGroups.length - 1 ? ', ' : '' %>
                <% }); %>
            </li>
        </ul>

        <h3 class="mt-4">Stats</h3>
        <ul class="list-group">
            <% pokemon.stats.forEach(function(stat) { %>
                <li class="list-group-item">
                    <strong><%= stat.stat_name %>:</strong> <%= stat.base_stat %> (Effort: <%= stat.effort %>)
                </li>
            <% }); %>
        </ul>
        <h3 class="mt-4">Moves</h3>
        <div class="accordion" id="movesAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingMoves">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMoves" aria-expanded="true" aria-controls="collapseMoves">
                        All Moves
                    </button>
                </h2>
                <div id="collapseMoves" class="accordion-collapse collapses" aria-labelledby="headingMoves" data-bs-parent="#movesAccordion">
                    <div class="accordion-body">
                        <div class="row">
                            <% pokemon.moves.forEach(function(move, index) { %>
                                <div class="col-md-2 mb-2">
                                    <div class="card">
                                        <div class="card-body">
                                            <p><%= move %></p>
                                        </div>
                                    </div>
                                </div>
                            <% }); %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a href="/" class="btn btn-dark mt-4 d-grid gap-2">Back to List</a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
